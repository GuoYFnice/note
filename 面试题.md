# 每日一题

> 木易杨说的精选大厂前端面试高频 100 题

每天记录一下自己对题的理解和学到的知识

## 1. 写 React / Vue 项目时为什么要在列表组件中写 key，其作用是什么？

> key是给每一个vnode的唯一id,可以`依靠key`,更`准确`, 更`快`的拿到oldVnode中对应的vnode节点。

对于vue的diff算法，在进行新旧节点的开始与结束位置的四个节点进行sameVnode比较，若没有则会进行对每一个旧节点的key进行map新节点的key

#####  更准确

因为带key就不是`就地复用`了，在sameNode函数 `a.key === b.key`对比中可以避免就地复用的情况。所以会更加准确。

##### 更快

利用key的唯一性生成map对象来获取对应节点，比遍历方式更快。



## 2. ['1', '2', '3'].map(parseInt) what & why ?

### parselnt()

**这道题先要了解一下parseInt**——用来解析字符串的，使字符串成为指定基数的整数。
`parseInt(string, radix)`
接收两个参数，第一个表示被处理的值（字符串），第二个表示为解析时的基数。该值介于 2 ~ 36 之间。

如果省略该参数或其值为 0，则数字将以 10 为基础来解析。如果它以 “0x” 或 “0X” 开头，将以 16 为基数。

如果该参数小于 2 或者大于 36，则 parseInt() 将返回 NaN。

### map

map() 方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。

他的callback接受三个参数

| *currentValue* | 必须。当前元素的值           |
| -------------- | ---------------------------- |
| *index*        | 可选。当前元素的索引值       |
| *arr*          | 可选。当前元素属于的数组对象 |

- 运行情况

1. parseInt('1', 0) //这个时候返回1
2. parseInt('2', 1) //（1进制）返回NaN
3. parseInt('3', 2) //（2进制）返回NaN

- map函数返回的是一个数组，所以最后结果为[1, NaN, NaN]



## 3. 什么是防抖和节流？有什么区别？如何实现？

### 防抖

防抖就是高频触发事件**后**在规定时间内只执行一次。如果在规定时间内再次触发，则重新计算时间（后很关键！）

```javascript
function debounce(fn){
    let timeout = null
    return function(){
        clearTimeout(timeout)//将上一个时间清除掉
        let timeout = setTimeout(() => {//重新计算时间
        	fn.apply(this,argument)
        },500)
    }
}
```

###  节流

节流就是在高频触发时间，在规定时间内只执行一次，会稀释函数的执行频率

```javascript
function throttle(fn){
	let do = true
    return function(){
		if(!do){
            return
        }
        do = false
        setTimeout(() => {
            fn.apply(this,argument)
            do = true
        },500)
    }
}
```



## 4.介绍下 Set、Map、WeakSet 和 WeakMap 的区别？

### set

类似数组，但里成员的值是唯一的（可以用来去重）Set是一个构造函数，用来生成一个Set数据结构（可以接受一个数组）

向set加入值时，不会发生类型转换，所以5 ‘5’不同，但是NaN只能加入一个(在set里面NaN是相同的，但是在js里面NaN===NaN is false！！！两个对象永远是不相等的)

```javascript
const a = new Set()
const b = new Set([1,1,2,3,4,4,2,6])
a.add(1)//加入
a.size//成员数
a.has(1)//是否有该成员
a.delete(1)//删除
a.clear()//清除set没有返回值
```

Array.from()可以将Set转变成数组

遍历方法（因为Set没有键名只有键值，所以两个都是一个值）

```javascript
a.keys()//返回键名
a.values()//返回键值   默认的遍历方法
a.entries()//返回键值对
a.forEach()
```

### WeakSet

类似于Set，不能重复的值的集合，但只接受对象

几乎与Set相同

### Map

